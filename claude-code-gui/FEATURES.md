# Claude Code GUI 增强版 - 功能说明

## 🎉 新功能概览

Claude Code GUI v2.0.0 增强版已成功优化界面并增加了强大的会话管理功能！

### ✨ 主要新功能

1. **会话管理系统** - 支持多个对话会话的创建、切换和管理
2. **--resume 支持** - 保持窗口会话在同一轮，支持会话连续性
3. **现代化界面** - 重新设计的分栏式界面，左侧会话列表，右侧对话区域
4. **会话操作** - 新建、删除、重命名、切换会话
5. **会话历史** - 每个会话独立保存对话历史，切换时自动恢复

## 🖥️ 界面布局

```
┌─────────────────────────────────────────────────────────────────┐
│                Claude Code CLI GUI v2.0.0 (增强版)              │
├─────────────────┬───────────────────────────────────────────────┤
│   会话列表      │                对话区域                       │
│                 │                                               │
│ 📋 会话列表     │ [时间] 用户: 你好                             │
│ ┌─────────────┐ │ [时间] Claude: 你好！我是Claude...            │
│ │新建会话     │ │ [时间] 系统: 已切换到会话...                  │
│ └─────────────┘ │                                               │
│                 │                                               │
│ 📝 默认会话 *   │                                               │
│    2条消息      │                                               │
│    刚刚         │                                               │
│                 │                                               │
│ 📝 工作会话     │                                               │
│    15条消息     │                                               │
│    10分钟前     │                                               │
│                 │                                               │
│ [重命名] [删除] │ [输入框                              ] [发送] │
│                 │ [连接Claude CLI]              [已连接]       │
└─────────────────┴───────────────────────────────────────────────┘
```

## 🔧 功能详解

### 1. 会话管理

#### 创建新会话
- 点击左侧的「新建会话」按钮
- 输入会话名称（支持中文）
- 系统自动切换到新创建的会话
- 新会话会显示在会话列表顶部

#### 切换会话
- 双击会话列表中的任意会话项
- 或选中会话后自动切换
- 对话区域会自动恢复该会话的历史记录
- 当前活跃会话会用蓝色高亮显示

#### 会话操作
- **重命名**：选中会话后点击「重命名」按钮
- **删除**：选中会话后点击「删除」按钮（需确认）
- **查看信息**：会话项显示消息数量和最后活跃时间

### 2. --resume 功能

#### 自动会话保持
- 启用 `--resume` 功能，保持会话连续性
- 切换会话时，Claude CLI 会保持同一轮对话
- 每个会话拥有独立的上下文
- 支持长时间对话不中断

#### 会话ID管理
- 每个会话自动分配唯一ID
- 执行器内部维护会话映射关系
- 支持会话间无缝切换

### 3. 界面优化

#### 分栏式设计
- 左右分栏布局，比例可调节
- 左侧：会话列表面板（300px 宽度）
- 右侧：对话区域和输入控制

#### 现代化样式
- 统一的颜色主题
- 清晰的视觉层次
- 响应式交互反馈
- 优化的字体和间距

## 🚀 使用方法

### 启动应用

```bash
# 方式1：运行可执行JAR
java -jar claude-code-gui-1.0.0.jar

# 方式2：从项目目录编译运行
cd claude-code-gui
mvn compile exec:java
```

### 基本工作流程

1. **启动应用** → 自动创建「默认会话」
2. **连接Claude CLI** → 点击「连接Claude CLI」按钮
3. **开始对话** → 在输入框中输入消息并发送
4. **管理会话** → 根据需要创建、切换、管理多个会话

### 高级功能

#### 多项目工作流
```
📝 项目A - 代码审查
   用于代码审查和bug修复的对话

📝 项目B - 新功能开发
   用于新功能设计和实现的对话

📝 学习笔记
   用于技术学习和问题咨询的对话
```

#### 长期会话保持
- 每个会话独立维护上下文
- 支持跨天持续对话
- 历史记录自动保存
- 重启应用后会话列表保持

## ⚙️ 技术特性

### 会话管理架构
- **SessionManager**: 核心会话管理服务
- **ChatSession**: 会话数据模型
- **SessionAwareClaudeExecutor**: 支持会话的CLI执行器
- **SessionListPanel**: 会话列表UI组件

### 数据持久化
- 会话信息内存存储
- 消息历史实时更新
- 支持会话导入/导出（未来版本）

### 性能优化
- 异步消息处理
- UI响应优化
- 内存使用控制
- 长会话历史管理

## 🎯 使用场景

### 1. 多项目开发
不同项目使用独立会话，避免上下文混乱

### 2. 分类学习
按技术栈或主题创建不同会话进行学习

### 3. 长期咨询
重要项目的长期技术咨询和代码review

### 4. 团队协作
不同团队成员使用不同会话进行专项讨论

## 🔍 故障排除

### 常见问题

1. **会话切换失败**
   - 检查Claude CLI连接状态
   - 重新连接CLI服务

2. **历史记录丢失**
   - 正常情况，重启应用会清空会话
   - 未来版本将支持持久化

3. **界面显示异常**
   - 调整窗口大小
   - 检查系统字体支持

### 调试模式
- 查看控制台日志输出
- 检查SDK连接状态
- 验证会话ID正确性

## 📊 版本信息

**当前版本**: v2.0.0 Enhanced
**构建时间**: 2025-09-21
**JDK要求**: Java 17+
**主要依赖**: Claude Code Java SDK v1.0.0

## 🔮 未来规划

### v2.1 计划功能
- [ ] 会话数据持久化
- [ ] 会话导入/导出
- [ ] 会话搜索功能
- [ ] 消息标签和分类
- [ ] 自定义主题支持

### v2.2 计划功能
- [ ] 多用户支持
- [ ] 云端会话同步
- [ ] 插件系统
- [ ] API接口开放

---

## 💡 快速开始

1. 启动应用：`java -jar claude-code-gui-1.0.0.jar`
2. 点击「连接Claude CLI」
3. 开始在「默认会话」中对话
4. 根据需要点击「新建会话」创建更多会话
5. 双击会话名称快速切换

享受全新的Claude Code GUI增强版体验！🎉